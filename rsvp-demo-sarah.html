<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>אישור הגעה - שרה לוי</title>
    <link rel="stylesheet" href="template-styles.css">
</head>
<body class="bg-background">
    <div class="min-h-screen py-8 px-4">
        <div class="max-w-2xl mx-auto space-y-8">
            <!-- Event Invitation Image -->
            <div class="relative overflow-hidden rounded-lg shadow">
                <img 
                    src="https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"
                    alt="הזמנה לאירוע"
                    class="w-full h-auto max-h-90vh object-contain bg-white"
                />
                
                <!-- Language Selector -->
                <div class="language-selector">
                    <select class="input" onchange="changeLanguage()">
                        <option value="he">עברית</option>
                        <option value="en">English</option>
                    </select>
                </div>
                
                <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"></div>
            </div>

            <!-- Welcome Card -->
            <div class="card card-gradient shadow-lg">
                <div class="card-header text-center">
                    <h1 class="card-title text-2xl md:text-3xl font-bold">
                        שלום שרה לוי! 👋
                    </h1>
                    <p class="text-muted text-lg">
                        את מוזמנת לחתונה של שייקי ומיכל
                    </p>
                </div>
            </div>

            <!-- RSVP Form -->
            <div class="card card-elegant">
                <div class="card-header">
                    <h2 class="card-title text-xl text-center text-primary">
                        אישור הגעה
                    </h2>
                    <p class="text-center text-muted">
                        אנא אשרי את מספר המוזמנים
                    </p>
                </div>
                <div class="card-content">
                    <form class="space-y-6" onsubmit="submitRSVP(event)">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Men Count -->
                            <div class="form-group">
                                <label class="label">מספר גברים</label>
                                <div class="counter-controls">
                                    <button
                                        type="button"
                                        class="counter-btn"
                                        onclick="decrementMen()"
                                        id="decrementMenBtn"
                                    >
                                        −
                                    </button>
                                    <input
                                        id="menCount"
                                        type="number"
                                        min="0"
                                        max="10"
                                        value="0"
                                        class="input counter-input"
                                        onchange="updateCounts()"
                                    />
                                    <button
                                        type="button"
                                        class="counter-btn"
                                        onclick="incrementMen()"
                                        id="incrementMenBtn"
                                    >
                                        +
                                    </button>
                                </div>
                            </div>

                            <!-- Women Count -->
                            <div class="form-group">
                                <label class="label">מספר נשים</label>
                                <div class="counter-controls">
                                    <button
                                        type="button"
                                        class="counter-btn"
                                        onclick="decrementWomen()"
                                        id="decrementWomenBtn"
                                    >
                                        −
                                    </button>
                                    <input
                                        id="womenCount"
                                        type="number"
                                        min="0"
                                        max="10"
                                        value="0"
                                        class="input counter-input"
                                        onchange="updateCounts()"
                                    />
                                    <button
                                        type="button"
                                        class="counter-btn"
                                        onclick="incrementWomen()"
                                        id="incrementWomenBtn"
                                    >
                                        +
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Total Display -->
                        <div id="totalDisplay" class="hidden text-center p-4 bg-accent/50 rounded border border-accent">
                            <p class="text-lg font-medium">
                                סה"כ מוזמנים: <span id="totalCount">0</span>
                            </p>
                        </div>

                        <!-- Submit Button -->
                        <button 
                            type="submit" 
                            id="submitBtn"
                            class="btn btn-primary w-full btn-lg transition-all"
                            disabled
                        >
                            אשרי הגעה
                        </button>

                        <p id="pleaseEnterGuests" class="text-center text-sm text-muted">
                            אנא הזיני מספר מוזמנים
                        </p>
                    </form>
                </div>
            </div>

            <!-- Info Card -->
            <div class="card bg-muted/50">
                <div class="card-content">
                    <div class="text-center space-y-2">
                        <p class="text-sm text-muted">
                            תאריך האירוע: 15 ביוני 2024, 19:00
                        </p>
                        <p class="text-sm text-muted">
                            לפרטים נוספים: 0527654321
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let menCount = 0;
        let womenCount = 0;

        function updateCounts() {
            menCount = parseInt(document.getElementById('menCount').value) || 0;
            womenCount = parseInt(document.getElementById('womenCount').value) || 0;
            const total = menCount + womenCount;
            
            document.getElementById('totalCount').textContent = total;
            
            if (total > 0) {
                document.getElementById('totalDisplay').classList.remove('hidden');
                document.getElementById('submitBtn').disabled = false;
                document.getElementById('pleaseEnterGuests').classList.add('hidden');
            } else {
                document.getElementById('totalDisplay').classList.add('hidden');
                document.getElementById('submitBtn').disabled = true;
                document.getElementById('pleaseEnterGuests').classList.remove('hidden');
            }
            
            // Update button states
            document.getElementById('decrementMenBtn').disabled = menCount <= 0;
            document.getElementById('incrementMenBtn').disabled = menCount >= 10;
            document.getElementById('decrementWomenBtn').disabled = womenCount <= 0;
            document.getElementById('incrementWomenBtn').disabled = womenCount >= 10;
        }

        function incrementMen() {
            if (menCount < 10) {
                menCount++;
                document.getElementById('menCount').value = menCount;
                updateCounts();
            }
        }

        function decrementMen() {
            if (menCount > 0) {
                menCount--;
                document.getElementById('menCount').value = menCount;
                updateCounts();
            }
        }

        function incrementWomen() {
            if (womenCount < 10) {
                womenCount++;
                document.getElementById('womenCount').value = womenCount;
                updateCounts();
            }
        }

        function decrementWomen() {
            if (womenCount > 0) {
                womenCount--;
                document.getElementById('womenCount').value = womenCount;
                updateCounts();
            }
        }

        function submitRSVP(event) {
            event.preventDefault();
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = `
                <div style="display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                    <div style="width: 1rem; height: 1rem; border: 2px solid rgba(255,255,255,0.3); border-top: 2px solid white; border-radius: 50%; animation: spin 1s linear infinite;"></div>
                    שולח...
                </div>
            `;
            submitBtn.disabled = true;

            setTimeout(() => {
                showToast('✅ תודה! אישור ההגעה נשלח בהצלחה', 'success');
                submitBtn.innerHTML = '✅ אישור נשלח';
                submitBtn.style.background = 'hsl(142 76% 36%)';
            }, 2000);
        }

        function changeLanguage() {
            showToast('שפה שונתה', 'success');
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Initialize
        updateCounts();
    </script>
</body>
</html>